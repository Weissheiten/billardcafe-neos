version: "2"

services:
  neos3-main:
    image: weissheiten-neos
    #volumes:
    #  - "~/Documents/Kitematic/billardcafe-neos:/app/"
    ports:
      - "80:80"
    links:
      - "neos3-mariadb"
      - "neos3-mail"
    volumes:
      - "./app/Packages/Sites/Billardcafe.Home:/app/Packages/Sites/Billardcafe.Home"
    #  - "./app/Data/Logs:/app/Data/Logs"

  #neos3-php:
  #  image: weissheiten-neos
  #  volumes:
  #    - "~/Documents/Kitematic/billardcafe-neos:/data/"

  neos3-mariadb:
    image: "mariadb"
    command: "--character-set-server=utf8 --collation-server=utf8_unicode_ci"
    environment:
      MYSQL_ROOT_PASSWORD: "neos"
      MYSQL_DATABASE: "neos"
      MYSQL_USER: "neos"
      MYSQL_PASSWORD: "neos"

  neos3-mail:
    image: mailhog/mailhog
    ports:
      - 8025:8025
    environment:
      - VIRTUAL_HOST=mail.neos
      - VIRTUAL_PORT=8025
